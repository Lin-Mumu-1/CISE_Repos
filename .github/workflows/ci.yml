name: CI Workflow  # 工作流名称

on: 
  push:            # 触发条件：当代码被推送到仓库时触发
    branches:
      - main       # 仅当推送到 main 分支时触发
  pull_request:    # 触发条件：当有 PR 时触发

jobs:
  test:            # 定义一个名为 "test" 的任务
    runs-on: ubuntu-latest  # 运行环境，使用 GitHub 提供的 Ubuntu 最新版本
    steps:
      - name: Checkout Code   # 第一步：拉取代码
        uses: actions/checkout@v4

      - name: Setup Node.js    # 第二步：设置 Node.js 环境
        uses: actions/setup-node@v4
        with:
          node-version: 18

      - name: Install Dependencies  # 第三步：安装项目依赖
        run: npm install

      - name: Run Tests  # 第四步：执行测试
        run: npm test